%% coding: latin-1
%% P10 (**) ???????????? ?????? ? ?????????????? ????????? RLE:
%% ??????:
%% 1> p10:encode([a,a,a,a,b,c,c,a,a,d,e,e,e,e]).
%% [{4,a},{1,b},{2,c},{2,a},{1,d},{4,e}]

-module(p10).

%% API exports
-export([encode/1]).

%%====================================================================
%% API functions
%%====================================================================

encode(L) -> encode(L, 0).

encode([H,H|T], C) -> encode([H|T], C + 1);
encode([], _) -> [];
encode([H|T], C) -> [{C + 1, H} | encode(T,0)].

%%====================================================================
%% Internal functions
%%====================================================================

%%====================================================================
%% Unit tests
%%====================================================================

-ifdef(TEST).
-include_lib("eunit/include/eunit.hrl").
    encode_test_()->[?_assert(encode([a,a,a,a,b,c,c,a,a,d,e,e,e,e])=:=[{4,a},{1,b},{2,c},{2,a},{1,d},{4,e}])].
-endif.
